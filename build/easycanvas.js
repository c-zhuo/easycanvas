!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(38)},function(t,e){"use strict";var n={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},funcOrValue:function(t,e){if("function"==typeof t){var n=t.call(e);return n}return t},execFuncs:function(t,e,i){if(t&&(n.isArray(i)||(i=[i])),"function"==typeof t)return t.apply(e,i);if(n.isArray(t)){var r=[];return t.forEach(function(t){r.push(t&&t.apply(e,i))}),r}},blend:["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pointInRect:function(t,e,n,i,r,o){return!(n>t||t>i||r>e||e>o)},firstValuable:function(t,e,n){return void 0===t?void 0===e?n:e:t}};t.exports=n},function(t,e){"use strict";var n=3.141593;t.exports=function(t,e,i,r,o,a){var s=o?-o/180*n:0,l=t,c=e;return o&&(l=(t-i)*Math.cos(s)-(e-r)*Math.sin(s)+i,c=(t-i)*Math.sin(s)+(e-r)*Math.cos(s)+r),a?[l,c]:{x:l,y:c}}},,function(t,e){"use strict";t.exports={xywh:["sx","sy","sw","sh","tx","ty","tw","th"],txywh:["tx","ty","tw","th"],sxywh:["sx","sy","sw","sh"],devFlag:"__EASYCANVAS_DEVTOOL__",version:"0.6.0"}},,,,,function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i={},r=[],o=0,a=function t(e,a,s){var l=s||{},c=t.cacheCanvas;if("object"===(void 0===e?"undefined":n(e))){var u=e;return l.callbackArgs=l.callbackArgs||[],void t(u.shift(),function(e){l.callbackArgs.push(e),u.length>1?t(u,a,l):t(u[0],function(t){l.callbackArgs.push(t),a(l.callbackArgs)},l)},s)}var f=e+"_"+JSON.stringify(s)+"_"+c;if(i[f])return a?void(i[f].width&&a?a(i[f]):setTimeout(function(){t(e,a,s)},100)):i[f];var d=new Image;l.block?(d.src=e,o++):0===o?d.src=e:r.push({imgObj:d,src:e}),i[f]=d;var h=void 0;return(l.canvas||l.alphaColor||c)&&(h=document.createElement("canvas"),h.width=h.height||0,i[f]=h),d.onload=function(){if("jpg"===d.src.substr(-3)||"jpeg"===d.src.substr(-3)||"bmp"===d.src.substr(-3)?d.$noAlpha=!0:0===d.src.indexOf("data:image/jpg;")&&(d.$noAlpha=!0),l.block&&(o--,0===o&&(r.forEach(function(t){t.imgObj.src=t.src}),r.splice(0))),h&&(l.canvas||l.alphaColor||c)){var t=h.getContext("2d");if(h.width=d.width,h.height=d.height,h.$noAlpha=d.$noAlpha,t.drawImage(d,0,0),l.alphaColor){for(var e=t.getImageData(0,0,d.width,d.height),n=0;e.data.length>n;n+=4){var i=e.data[n]+e.data[n+1]+e.data[n+2],s=1;s>e.data[n]&&s>e.data[n+1]&&s>e.data[n+2]&&(e.data[n+3]=Math.floor(i/255))}t.putImageData(e,0,0),h.$noAlpha=!1}d=h}a&&a(d)},d.onerror=function(){i[f]=d},h||d};a.cacheCanvas=!1,t.exports=a},function(t,e){"use strict";function n(t,e){if(t&&t.match(/^data:/))return void(e&&e(t));if(r[t])return void(r[t]!==i?e(r[t]):setTimeout(function(){n(t,e)},100));r[t]=i;var o=new XMLHttpRequest;o.onload=function(){var n=new FileReader;n.onloadend=function(){r[t]=n.result,e&&e(n.result)},n.readAsDataURL(o.response)},o.open("GET",t),o.responseType="blob",o.send()}var i="processing",r={};t.exports=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(2);i(r);t.exports=function(t,e,n,i,r,o,a,s,l){return l&&(t=(t-a)*Math.cos(l)-(e-s)*Math.sin(l)+a,e=(t-a)*Math.sin(l)+(e-s)*Math.cos(l)+s),!(n>t||t>n+r||i>e||e>i+o)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(2),o=(i(r),n(11)),a=i(o);t.exports=function(t,e,n,i,r,o,s,l,c,u,f){var d=(0,a.default)(t,e,r,o,s,l,c,u,f)||(0,a.default)(t+n,e,r,o,s,l,c,u,f)||(0,a.default)(t,e+i,r,o,s,l,c,u,f)||(0,a.default)(t+n,e+i,r,o,s,l,c,u,f);if(d)return!0;var h=(0,a.default)(r,o,t,e,n,i,c,u,-f)||(0,a.default)(r+s,o,t,e,n,i,c,u,-f)||(0,a.default)(r,o+l,t,e,n,i,c,u,-f)||(0,a.default)(r+s,o+l,t,e,n,i,c,u,-f);return!!h||(e>o&&o+l>e+i&&r>t&&t+n>r+s||t>r&&r+s>t+n&&o>e&&e+i>o+l)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(1),a=i(o),s=n(4),l=i(s),c=n(19),u=i(c),f=n(18),d=i(f),h=n(16),p=i(h),v=n(17),g=i(v),y=n(20),$=i(y),x=n(15),m=i(x),w=n(32),b=i(w),E=n(31),T=i(E),k=n(33),S=i(k),O=0,A=function t(e){e.children&&e.children.forEach(function(n,i){n.$id||(e.children[i]=new M(n)),e.$id&&!e.$dom?(e.children[i].$canvas=e.$canvas,e.children[i].$parent=e):e.children[i].$canvas=e,t(e.children[i])})},_=function(t){var e=t||{};e.$id||(e.$id=Math.random().toString(36).substr(2)),e.$tickedTimes=e.$tickedTimes||0,e.content=e.content||{},e.style=e.style||{},e.style.tx=e.style.tx||0,e.style.ty=e.style.ty||0,e.style.scale=a.default.firstValuable(e.style.scale,1),e.style.opacity=a.default.firstValuable(e.style.opacity,1),e.style.zIndex=e.style.zIndex||0,e.style.mirrX=e.style.mirrX||0,e.style.locate=e.style.locate||"center";a.default.funcOrValue(e.content.img);if(l.default.xywh.forEach(function(t){e.style[t]=e.style[t]||0}),e.inherit=e.inherit,e.drag=e.drag||{},e.events=e.events||{},"production"!==process.env.NODE_ENV)for(var n in e.events)"function"!=typeof e.events[n]&&"eIndex"!==n&&console.warn("[Easycanvas] Handler "+n+" is not a function.",e.events[n]);if("production"!==process.env.NODE_ENV&&(e.$addIndex=O++),e.events.eIndex=e.events.eIndex,e.hooks=e.hooks||{},"production"!==process.env.NODE_ENV&&(e.$perf={}),"production"!==process.env.NODE_ENV){if(!e.name&&e.content.img&&e.content.img.src){var i=e.content.img.src.match(/.*\/([^\/]*)$/);i&&i[1]&&(e.name=i[1])}e.name=e.name||"Unnamed Sprite"}return e.children=e.children||[],A(e),e.$cache={},e.$styleCacheTime={},e},F=function(t){var e=this;this.$extendList.forEach(function(n){n.call(e,t)})},M=function(t){var e=_(t);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this[n]=e[n]);return F.call(this,e),this};M.prototype.$extendList=[],M.prototype.add=function(t){if(t)return this.children.push(t),A(this),this.children[this.children.length-1]},M.prototype.getRect=function(){var t=this,e={};if(l.default.txywh.forEach(function(n){e[n]=t.getStyle(n)}),0===e.tw&&this.content.img){var n=a.default.funcOrValue(this.content.img,this);e.tw=n.width,e.th=n.height}var i=this.getStyle("locate");return"lt"===i||("ld"===i?e.ty-=e.th:"rt"===i?e.tx-=e.tw:"rd"===i?(e.tx-=e.tw,e.ty-=e.th):(e.tx-=e.tw>>1,e.ty-=e.th>>1)),e},M.prototype.getSelfStyle=function(t){var e={};if(t)return a.default.funcOrValue(this.style[t],this);for(var n in this.style)e[n]=a.default.funcOrValue(this.style[n],this);return e},M.prototype.getStyle=function(t){var e=this,n=e.$canvas.$lastPaintTime;if(e.$styleCacheTime[t]===n)return e.$cache[t];var i=a.default.funcOrValue(e.style[t],e);if(e.$parent){var r=void 0;if(r=e.inherit?e.inherit.indexOf(t)>=0:"tx"===t||"ty"===t||"scale"===t||"opacity"===t){var o=e.$parent.getStyle(t);return"opacity"===t||"scale"===t?(o=a.default.firstValuable(o,1),e.$parent.$styleCacheTime[t]=n,e.$parent.$cache[t]=o,o*a.default.firstValuable(i,1)):(o=a.default.firstValuable(o,0),e.$parent.$styleCacheTime[t]=n,e.$parent.$cache[t]=o,o+a.default.firstValuable(i,0))}}return i},M.prototype.remove=function(t){return t?(this.$canvas.remove(t),void a.default.execFuncs(t.hooks.removed,t)):(this.$parent?this.$parent.remove(this):this.$canvas.remove(this),void a.default.execFuncs(this.hooks.removed,this))},M.prototype.update=function(t){if(t)for(var e in t)if("object"===r(t[e]))for(var n in t[e])this[e][n]=t[e][n];else this[e]=t[e]},M.prototype.getAllChildren=function(t){var e=this,n=t?[e]:[];return e.children.forEach(function(t){n=n.concat(t.getAllChildren(!0))}),n},M.prototype.getOuterRect=b.default,M.prototype.combine=T.default,M.prototype.uncombine=S.default,M.prototype.combineAsync=function(){return this.on("ticked",this.combine,200),this},M.prototype.nextTick=g.default,M.prototype.on=u.default,M.prototype.off=d.default,M.prototype.clear=p.default,M.prototype.trigger=$.default,M.prototype.broadcast=m.default,t.exports=M},,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(1),o=i(r);t.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();this.hooks[e]&&o.default.execFuncs(this.hooks[e],this,t),t.unshift(e),this.children&&this.children.forEach(function(e){e.broadcast.apply(e,t)})}},function(t,e){"use strict";t.exports=function(){this.children.forEach(function(t){t.remove()}),this.children=[]}},function(t,e){"use strict";t.exports=function(t){var e=function e(){t.apply(this,arguments),this.off("ticked",e)};this.on("ticked",e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(1),o=i(r);t.exports=function(t,e){this.hooks[t]&&(this.hooks[t]!==e&&this.hooks[t].$handle!==e&&e?o.default.isArray(this.hooks[t])&&(this.hooks[t].indexOf(e)<0?this.hooks[t].indexOf(e.$handle)<0||(this.hooks[t][this.hooks[t].indexOf(e.$handle)]=void 0):this.hooks[t][this.hooks[t].indexOf(e)]=void 0):delete this.hooks[t])}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(1),o=i(r);t.exports=function(t,e,n){var i=e;if(n){var r=this;i=function(){var t=Date.now();if(t>i.$lastTriggerTime+n){i.$lastTriggerTime=t;var o=Array.prototype.slice.call(arguments);e.apply(r,o)}},i.$lastTriggerTime=-1,i.$handle=e}this.hooks[t]?o.default.isArray(this.hooks[t])?this.hooks[t].push(i):this.hooks[t]=[this.hooks[t],i]:this.hooks[t]=i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(1),o=i(r);t.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();if(this.hooks[e])return o.default.execFuncs(this.hooks[e],this,t)}},,,,,,,,function(t,e){"use strict";var n=function(t){setTimeout(t,1e3/60)},i="undefined"!=typeof requestAnimationFrame?requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||n:n;t.exports=i},function(t,e,n){"use strict";var i=n(1),r=3.141593,o=function(t){return t.$lastPaintTime||Date.now()},a={linear:function(t,e,n){var i=o(this),r=!1,a=void 0,s=function(){var o=this.$lastPaintTime,l=(o-i)/n,c=(e-t)*l+t;if(r)if(e>t)for(;c>e;)c-=e-t;else for(;e>c;)c+=t-e;else e>t&&c>e?(s.$done=!0,c=e):t>e&&e>c&&(s.$done=!0,c=e);return l>=1&&a&&(a.call(this,c),a=null),c}.bind(this);return s.loop=function(){return r=!0,s},s.restart=function(){return i=o(this),s},s.then=function(t){return a=t,s},s},pendulum:function(t,e,n,i){var a=o(this),s=i||{};s.start=s.start||0;var l=!1,c=void 0,u=s.cycle||1,f=function(){var i=o(this),d=(i-a)/n;l?u&&(d%=u):u?d>u&&(d=u,f.$done=!0,d=u):d>1&&(f.$done=!0,d=1);var h=d*r*2-r/2+s.start/360*r,p=(e-t)*(Math.sin(h)+1)/2+t;return d>=u&&c&&(c.call(this,p),c=null),p}.bind(this);return f.loop=function(){return l=!0,f},f.restart=function(){return a=o(this),f},f.then=function(t){return c=t,f},f},ease:function(t,e,n){return this.pendulum(t,e,2*n,{cycle:.5})},oneByOne:function(t){var e=t,n=!1,i=function(){for(var t=0;e.length>t;t++){if(!e[t].$done)return e[t]();if(!e[t].$nextRestart&&(e[t].$nextRestart=!0,e[t+1]))return e[t+1].restart(),e[t+1]()}if(n){for(var i=0;e.length>i;i++)e[i].$done=!1,e[i].$nextRestart=!1,e[i].restart();return e[0]()}return e[e.length-1]()};return i.loop=function(){return n=!0,i},i}},s=function t(e,n,r,o,s){var l=(0,i.funcOrValue)(e[n]);"production"!==process.env.NODE_ENV&&void 0===l&&console.warn("[Easycanvas] start value in transition is undefined, using 0 instead."),l=l||0,e[n]=a[r].bind(t)(l,o,s)};for(var l in a)s[l]=a[l];t.exports=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(4),a=i(o),s=n(1),l=i(s);if("production"!==process.env.NODE_ENV&&!window[a.default.devFlag]){var c=window[a.default.devFlag]={isPaintRecording:!1,selectMode:!1,current:{},version:a.default.version,$canvas:{},$plugin:null},u={getSprite:function(t){if(!c.isPaintRecording)return[];var e={};if(t){var n=c.$canvas[t].children,i=function t(n){if(n.name!==a.default.devFlag){e[n.$id]={name:n.name,$addIndex:n.$addIndex,parent:n.$parent&&n.$parent.$id,style:{},children:n.children.filter(function(t){return t.name!==a.default.devFlag}).map(function(t){return t.$id}),rendered:n.$rendered};for(var i in n.style)e[n.$id].style[i]=l.default.funcOrValue(n.style[i],n);a.default.xywh.forEach(function(t){e[n.$id].style[t]=Math.round(e[n.$id].style[t])}),["physics","$perf"].forEach(function(t){e[n.$id][t]=n[t]}),n.webgl&&(e[n.$id].webgl={},["rx","ry","rz","tx","ty","tz"].forEach(function(t){e[n.$id].webgl[t]=l.default.funcOrValue(n.webgl[t],n)})),n.children&&n.children.sort(function(t,e){return e.$addIndex>t.$addIndex?-1:1}).forEach(t)}};n.sort(function(t,e){return e.$addIndex>t.$addIndex?-1:1}).forEach(i)}else for(var o in c.$canvas)e=r(e,c.$plugin.getSprite(o));return e},selectSpriteById:function(t,e){if(!e){for(var n in c.$canvas){var i=u.selectSpriteById(t,n);if(i)return{$sprite:i.$sprite||i,$canvas:c.$canvas[n]}}return!1}var r=function n(i){for(var r=0;i.length>r;r++){if(i[r].$id===t)return i[r];var o=n(i[r].children);if(o)return{$sprite:o.$sprite||o,$canvas:c.$canvas[e]}}return!1},o=c.$canvas[e].children,a=r(o);if(a)return{$sprite:a.$sprite||a,$canvas:c.$canvas[e]}},updateSprite:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style",n=arguments[2],i=arguments[3],o=u.selectSpriteById(t,i).$sprite;o||console.warn("Sprite "+spriteId+" Not Found."),r(o[e],n)},highlightSprite:function(t,e,n){c.selectMode=!!e;var i=u.selectSpriteById(t,n),r=i.$sprite,o=i.$canvas;e&&o&&r?o.$plugin.selectSprite(!1,o,r):o&&o.$plugin.cancelSelectSprite(o)},sendGlobalHook:function(t,e){var n=u.selectSpriteById(t,e),i=n.$sprite,r=n.$canvas;console.log("%c window.$0 = %c Current Sprite("+i.name+") %c ","background:#4086f4 ; padding: 2px 0; border-radius: 2px 0 0 2px;  color: #fff","background:#41b883 ; padding: 2px; border-radius: 0 2px 2px 0;  color: #fff","background:transparent"),window.$0=i,window.$1=r},pause:function(t,e){var n=c.$canvas[t];n.$pausing=void 0!==e?e:!n.$pausing},getPerf:function(){var t={canvas:[],navigator:{clientWidth:document.body.clientWidth,clientHeight:document.body.clientHeight,devicePixelRatio:window.devicePixelRatio}};if(!c.isPaintRecording)return t;for(var e in c.$canvas)t.canvas.push({$id:e,name:c.$canvas[e].name,perf:c.$canvas[e].$perf,fps:c.$canvas[e].lastFps,size:{styleWidth:c.$canvas[e].$dom.getBoundingClientRect().width||parseInt(c.$canvas[e].$dom.style.width)||c.$canvas[e].$dom.width,styleHeight:c.$canvas[e].$dom.getBoundingClientRect().height||parseInt(c.$canvas[e].$dom.style.height)||c.$canvas[e].$dom.height,canvasWidth:c.$canvas[e].$dom.width,canvasHeight:c.$canvas[e].$dom.height}});return t}};c.$plugin=u}},function(t,e){"use strict";var n=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=1,r=2,o=3;t.exports=function(){if(this.$combine)return i;for(var t=this,e=this.$canvas,a=t.getAllChildren(!0),s=0;a.length>s;s++){var l=a[s],c=l.content.img;if(c&&c.src&&(0===l.content.img.width||c.complete===!1||0===c.naturalHeight))return o}var u=t.getRect(),f=t.getOuterRect();if(f.tx=Math.floor(f.tx),f.ty=Math.floor(f.ty),f.tw=Math.round(f.tw),f.th=Math.round(f.th),f.tr=Math.round(f.tr),f.tb=Math.round(f.tb),0>f.tx||f.tr>e.width)return r;if(0>f.ty||f.tb>e.height)return r;e.paint();var d=e.$children.filter(function(t){for(var e=0;a.length>e;e++)if(a[e].$id===t.$id)return!0}),h=e.$children;e.$children=d,e.$paintContext.clearRect(0,0,e.width,e.height),e.$render();var p=document.createElement("canvas");p.width=f.tw,p.height=f.th;var v=p.getContext("2d");v.drawImage(e.$dom,f.tx,f.ty,f.tw,f.th,0,0,f.tw,f.th),t.$combine={content:t.content,children:t.children,style:t.style},t.children=[],t.content={img:p};var g=t.getSelfStyle("tx")-(Math.floor(u.tx)-f.tx),y=t.getSelfStyle("ty")-(Math.floor(u.ty)-f.ty);return t.style=n({},t.style,{opacity:1,scale:1,tx:g,ty:y,tw:p.width,th:p.height}),t.events.$interceptor=t.events.interceptor,t.events.interceptor=function(n){return t.children=t.$combine.children||[],e.on("afterEvent",function(){t.children=[]}),t.events.$interceptor?t.events.$interceptor(n):n},e.$children=h,e.$render(),t.off("ticked",this.combine),i}},function(t,e){"use strict";t.exports=function(){var t=this,e=t.getRect();return e.tr=e.tx+e.tw,e.tb=e.ty+e.th,this.children.forEach(function(t){var n=t.getOuterRect();e.tx>n.tx&&(e.tx=n.tx),e.ty>n.ty&&(e.ty=n.ty),n.tr>e.tr&&(e.tr=n.tr),n.tb>e.tb&&(e.tb=n.tb),e.tw=e.tr-e.tx,e.th=e.tb-e.ty}),e}},function(t,e){"use strict";var n=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};t.exports=function(){n(this,this.$combine),this.$combine=!1,this.events.$interceptor=!1}},,,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(4),o=i(r),a=n(60),s=i(a),l=n(28),c=i(l),u=n(102),f=i(u),d=n(1),h=i(d),p=n(29),v=i(p),g=n(9),y=i(g),$=n(101),x=i($),m=n(103),w=i(m),b=n(13),E=i(b),T=n(30),k=(i(T),{painter:s.default,imgLoader:y.default,imgPretreat:x.default,multlineText:w.default,transition:v.default,tick:c.default,utils:h.default,mirror:f.default,class:{sprite:E.default},sprite:E.default,$version:o.default.version,env:process.env.NODE_ENV});k.extend=function(t){var e=k.sprite.prototype.$extendList;e.indexOf(t)<0&&e.push(t)},k.use=function(t){var e=k.painter.prototype.$extendList;e.indexOf(t)<0&&(t.onUse&&t.onUse(k),e.push(t))},k.component=function(t,e){t(k,e)};var S="undefined"!=typeof window;S&&(window.Easycanvas?console.warn("[Easycanvas] already loaded, it should be loaded only once."):"production"!==process.env.NODE_ENV&&setTimeout(function(){console.log("%c Easycanvas %c You are using the develop version "+o.default.version+" %c","background:#4086f4; padding: 2px 0; border-radius: 2px 0 0 2px;  color: #fff","background:#41b883; padding: 2px; border-radius: 0 2px 2px 0;  color: #fff","background:transparent")},500)),t.exports=k},,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(47),o=i(r),a=n(49),s=i(a),l=n(43),c=i(l),u=n(48),f=i(u),d=n(59),h=i(d),p={$render:s.default,$eventHandler:c.default,$perPaint:o.default,$rAFer:f.default};"production"!==process.env.NODE_ENV&&(p.$plugin=(0,h.default)()),t.exports=p},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r,o=n(1),a=i(o),s=n(4),l=i(s),c=function(t){return t.sort(function(t,e){return"production"!==process.env.NODE_ENV&&window[l.default.devFlag]&&window[l.default.devFlag].selectMode?a.default.funcOrValue(t.style.zIndex,t)<a.default.funcOrValue(e.style.zIndex,e)?1:-1:a.default.funcOrValue(a.default.firstValuable(t.events.eIndex,t.style.zIndex),t)<a.default.funcOrValue(a.default.firstValuable(e.events.eIndex,e.style.zIndex),e)?1:-1})},u=function(t,e){var n=t.getRect();return a.default.pointInRect(e.canvasX,e.canvasY,n.tx,n.tx+n.tw,n.ty,n.ty+n.th)},f=function t(e,n,i){if(e&&e.length&&!n.$stopPropagation)for(var r=e.length,o=0;r>o;o++){var s=e[o];if(a.default.funcOrValue(s.style.visible,s)!==!1){if(u(s,n)&&s.events.interceptor){var f=a.default.firstValuable(s.events.interceptor.call(s,n),n);if(!f||f.$stopPropagation)continue}if(s.children.length&&t(c(s.children.filter(function(t){return"production"!==process.env.NODE_ENV&&window[l.default.devFlag]&&window[l.default.devFlag].selectMode?a.default.funcOrValue(t.style.zIndex,t)>=0:a.default.funcOrValue(a.default.firstValuable(t.events.eIndex,t.style.zIndex),t)>=0})),n,i),u(s,n)){i.push(s);h(s,n);if(n.$stopPropagation)break}s.children.length&&t(c(s.children.filter(function(t){return"production"!==process.env.NODE_ENV&&window[l.default.devFlag]&&window[l.default.devFlag].selectMode?a.default.funcOrValue(t.style.zIndex,t)<0:!(a.default.funcOrValue(a.default.firstValuable(t.events.eIndex,t.style.zIndex),t)>=0)})),n,i)}}},d=function(t,e){var n=this;this.$extendList.forEach(function(i){i.onEvent&&i.onEvent.call(n,t,e)})},h=function(t,e){if(t.events&&t.events[e.type]&&!e.$stopPropagation){var n=t.events[e.type].call(t,e);return n===!0||(!!t.events.stopPropagation||void 0)}},p={x:0,y:0,timeStamp:0};r=function(t,e){var n=this,i=void 0,o=void 0,s=1,u=1;if(!e){!t.layerX&&t.targetTouches&&t.targetTouches[0]?(i=t.targetTouches[0].pageX-t.currentTarget.offsetLeft,o=t.targetTouches[0].pageY-t.currentTarget.offsetTop):!t.layerX&&t.changedTouches&&t.changedTouches[0]?(i=t.changedTouches[0].pageX-t.currentTarget.offsetLeft,o=t.changedTouches[0].pageY-t.currentTarget.offsetTop):(i=t.layerX,o=t.layerY);var h=!1;if(this.$dom.getBoundingClientRect){var v=this.$dom.getBoundingClientRect();s=Math.floor(v[h?"height":"width"])/this.width,u=Math.floor(v[h?"width":"height"])/this.height}}var g=e||{type:t.type,canvasX:i/s,canvasY:o/u,event:t};if(n.fastclick){if("click"===g.type&&!g.$fakeClick)return;"touchstart"===g.type?(p.x=g.canvasX,p.y=g.canvasY,p.timeStamp=Date.now()):"touchend"===g.type&&Math.abs(p.x-g.canvasX)<30&&Math.abs(p.y-g.canvasY)<30&&Date.now()-p.timeStamp<200&&r.call(this,null,{$fakeClick:!0,type:"click",canvasX:p.x,canvasY:p.y,event:t})}if(g.stopPropagation=function(){g.$stopPropagation=!0},!n.events.interceptor||(g=a.default.firstValuable(n.events.interceptor.call(n,g),g),g&&!g.$stopPropagation)){var y=[];if(f(c(n.children),g,y),a.default.execFuncs(n.hooks.afterEvent,n,g),n.hooks.afterEvent=null,d.call(n,g,y),"production"!==process.env.NODE_ENV&&window[l.default.devFlag]&&window[l.default.devFlag].selectMode&&y.length){for(var $=0,x=y[$];x&&x.name===l.default.devFlag&&x.name===l.default.devFlag;)x=y[++$];if(x&&n.$plugin.selectSprite("click"===g.type||"touchend"===g.type,n,x))return}if(("mousemove"===g.type||"touchmove"===g.type)&&n.eLastMouseHover&&y.indexOf(n.eLastMouseHover)===-1){var m=n.eLastMouseHover.events.mouseout||n.eLastMouseHover.events.touchout;m&&m.call(n.eLastMouseHover,g)}if(n.eLastMouseHover=y[0],!y.length&&n.eLastMouseHover){var w=n.eLastMouseHover.events.mouseout;w&&w.call(n.eLastMouseHover,g),n.eLastMouseHover=null}var b=n.events[g.type];return b&&b.call(n,g)?(n.eHoldingFlag=!1,!0):void 0}},t.exports=r},function(t,e){"use strict";t.exports=function(t,e,n,i){if(0>e.sx&&e.sw){var r=-e.sx/e.sw;e.tx+=e.tw*r,e.sx=0}if(0>e.sy&&e.sh){var o=-e.sy/e.sh;e.ty+=e.th*o,e.sy=0}if(n&&e.sx+e.sw>n){var a=(e.sx+e.sw-n)/e.sw;e.sw-=e.sw*a,e.tw-=e.tw*a}if(i&&e.sy+e.sh>i){var s=(e.sy+e.sh-i)/e.sh;e.sh-=e.sh*s,e.th-=e.th*s}if(0>e.tx&&e.tw>-e.tx){var l=-e.tx/e.tw;e.sx+=e.sw*l,e.sw-=e.sw*l,e.tw=e.tw+e.tx,e.tx=0}if(0>e.ty&&e.th>-e.ty){var c=-e.ty/e.th;e.sy+=e.sh*c,e.sh-=e.sh*c,e.th=e.th+e.ty,e.ty=0}if(e.tw&&e.tx+e.tw>t.width){var u=(e.tx+e.tw-t.width)/e.tw;e.tw-=e.tw*u,e.sw-=e.sw*u}if(e.th&&e.ty+e.th>t.height){var f=(e.ty+e.th-t.height)/e.th;e.th-=e.th*f,e.sh-=e.sh*f}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(1),o=i(r);t.exports=function(t,e,n){e&&e.filter(function(t){var e=o.default.funcOrValue(t.style.zIndex,t);return 0>n?0>e:e>=0}).sort(function(t,e){var n=o.default.funcOrValue(t.style.zIndex,t),i=o.default.funcOrValue(e.style.zIndex,e);return n===i?0:n>i?1:-1}).forEach(function(e,n){t.$perPaint.call(t,e,n)})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(1),o=i(r);t.exports=function(t,e){var n={};for(var i in t.content)n[i]=o.default.funcOrValue(t.content[i],t);"string"==typeof n.img&&(n.img=t.content.img=e.imgLoader(n.img));for(var r in t.style)n[r]=t.getStyle(r);if(t.inherit&&t.inherit.forEach(function(e){n[e]=t.getStyle(e)}),n.sequence){var a=n.img,s=n.sequence;n.sequence.index=n.sequence.index||0;var l=n.sequence.index||0;0>l&&(l=0);var c=void 0,u=void 0;if(s.w||s.h){c=0>s.w?a.width/(0-s.w):s.w>0?s.w:a.width,u=0>s.h?a.height/(0-s.h):s.h>0?s.h:a.height;var f=Math.floor(a.width/c),d=Math.floor(a.height/u);n.sx=l%f*c,n.sy=Math.floor(l/f)%d*u}!s.loop&&l>0&&0===n.sx&&0===n.sy&&(n.img=void 0,s.onOver?s.onOver.call(t):t.remove()),n.sequence.lastTickTime=n.sequence.lastTickTime||0,e.$nextTickTime-n.sequence.lastTickTime<o.default.funcOrValue(n.sequence.interval,t)||(s.lastTickTime=e.$nextTickTime,n.sequence.index++,n.sequence.lastTickTime=e.$nextTickTime),n.sw=n.sw||c,n.sh=n.sh||u,n.tw=n.tw||c,n.th=n.th||u}return n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(1),o=i(r),a=n(4),s=(i(a),n(46)),l=i(s),c=n(44),u=i(c),f=n(45),d=i(f),h=n(12),p=i(h),v=o.default.blend,g=function(t){var e=/[^\u4e00-\u9fa5]/;return!e.test(t)},y=function(){var t=this;this.$canvas.$extendList.forEach(function(e){e.onPaint&&e.onPaint.call(t)})};t.exports=function(t,e){if(t.$rendered=!1,o.default.execFuncs(t.hooks.beforeTick,t,t.$tickedTimes),o.default.funcOrValue(t.style.visible,t)===!1)return void o.default.execFuncs(t.hooks.ticked,t,++t.$tickedTimes);var n=this;y.call(t);var i=(0,l.default)(t,n),r={globalAlpha:o.default.firstValuable(i.opacity,1)},a=i.text,s=i.img,c=o.default.funcOrValue(t.children,t),f=s?s.width||0:0,h=s?s.height||0:0;if(i.tw=i.tw||i.sw||f,i.th=i.th||i.sh||h,i.sw=i.sw||f,i.sh=i.sh||h,"lt"===i.locate||("ld"===i.locate?i.ty-=i.th:"rt"===i.locate?i.tx-=i.tw:"rd"===i.locate?(i.tx-=i.tw,i.ty-=i.th):(i.tx-=i.tw>>1,i.ty-=i.th>>1)),(i.fh||i.fv)&&(i.fh=i.fh||0,i.fv=i.fv||0,i.fx=i.fx||0,i.fy=i.fy||0,r.transform={fh:i.fh,fv:i.fv,fx:-(i.ty+(i.th>>1))*i.fv+i.fx,fy:-(i.tx+(i.tw>>1))*i.fh+i.fy}),i.blend&&(r.globalCompositeOperation="string"==typeof i.blend?i.blend:v[i.blend]),i.rotate){var $=o.default.firstValuable(i.rx,i.tx+.5*i.tw),x=o.default.firstValuable(i.ry,i.ty+.5*i.th);r.beforeRotate=[$,x],r.rotate=-i.rotate*Math.PI/180,r.rotate=+r.rotate.toFixed(4),r.afterRotate=[-$,-x]}if(i.backgroundColor&&(r.fillRect=i.backgroundColor),i.border&&(r.line=i.border),"hidden"===i.overflow&&(r.clip=!0),1!==i.scale){var m=i.scale;i.tx-=(m-1)*i.tw>>1,i.ty-=(m-1)*i.th>>1,i.tw*=m,i.th*=m}if(i.mirrX?(r.translate=[n.width,0],r.scale=[-1,1],i.tx=n.width-i.tx-i.tw,i.mirrY&&(r.translate=[n.width,n.height],r.scale=[-1,-1],i.ty=n.height-i.ty-i.th)):i.mirrY&&(r.translate=[0,n.height],r.scale=[1,-1],i.ty=n.height-i.ty-i.th),"production"!==process.env.NODE_ENV&&f&&h){var w=i.tw*i.th/(i.sw*i.sh);t.$perf.paintRate&&t.$perf.paintRate>=w||(t.$perf.paintRate=w)}var b=(0,p.default)(i.tx,i.ty,i.tw,i.th,0,0,n.width,n.height,r.beforeRotate&&r.beforeRotate[0],r.beforeRotate&&r.beforeRotate[1],i.rotate);if(r.clip&&b){var E={$id:t.$id,type:"clip",settings:r,img:s,props:i};E.$origin=t,n.$children.push(E)}if((0,d.default)(n,c,-1),r.fillRect&&b){t.$rendered=!0;var T={$id:t.$id,type:"fillRect",settings:r,img:s,props:i};T.$origin=t,n.$children.push(T)}if(f&&0!==i.opacity&&i.sw&&i.sh){i.rotate||a||(0,u.default)(n,i,f,h);var k=(0,p.default)(i.tx,i.ty,i.tw,i.th,0,0,n.width-1,n.height-1,r.beforeRotate&&r.beforeRotate[0],r.beforeRotate&&r.beforeRotate[1],i.rotate);if(k){t.$rendered=!0;var S={$id:t.$id,type:"img",settings:r,img:s,props:i};S.$origin=t,n.$children.push(S)}}if(a){t.$rendered=!0;var O=i.tx,A=i.ty,_=i.align||i.textAlign||"left",F=i.textFont||"14px Arial",M=parseInt(F),V=void 0,R=i.lineHeight||M;if("center"===_?O+=i.tw/2:"right"===_&&(O+=i.tw),"top"===i.textVerticalAlign?V="top":"bottom"===i.textVerticalAlign?(V="bottom",A+=i.th):"middle"===i.textVerticalAlign&&(A+=i.th>>1,V="middle"),"string"==typeof a||"number"==typeof a)A+2*M>0&&n.height>A-2*M&&n.$children.push({$id:t.$id,type:"text",settings:r,props:{tx:O,ty:A,content:a+"",fontsize:M,align:_,baseline:V,font:F,color:i.color,type:i.textType},$origin:t});else if(a.length)a.forEach(function(e){n.$children.push({$id:t.$id,type:"text",settings:r,props:{tx:O+o.default.funcOrValue(e.tx,t),ty:A+o.default.funcOrValue(e.ty,t),content:o.default.funcOrValue(e.content,t),fontsize:M,baseline:V,align:_,font:F,color:i.color,type:i.textType},$origin:t})});else if("multline-text"===a.type){var N=a.text.split(/\t|\n/),C=[];N.forEach(function(t,e){t=String.prototype.trim.apply(t),a.config.start&&(t=t.replace(a.config.start,""));for(var n=0,r=i.tw;t.length&&t.length>n;)r>0||(r=i.tw,C.push(t.substr(0,n)),t=t.substr(n),n=0),n++,r-=M*(g(t[n])?1.05:.6);(t||e)&&C.push(t)}),C.forEach(function(e){n.$children.push({$id:t.$id,type:"text",settings:r,props:{tx:O,ty:A,fontsize:M,content:e,baseline:V,align:_,font:F,color:i.color,type:i.textType},$origin:t}),A+=R||M})}}if(s||a||(t.$rendered=void 0),(0,d.default)(n,c,1),r.clip&&b){var I={$id:t.$id,type:"clipOver",settings:r,img:s,props:i};I.$origin=t,n.$children.push(I)}if(r.line&&b){t.$rendered=!0;var P={$id:t.$id,type:"line",settings:r,img:s,props:i};P.$origin=t,n.$children.push(P)}o.default.execFuncs(t.hooks.ticked,t,++t.$tickedTimes)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(28),o=i(r),a=n(29),s=i(a);t.exports=function(t){var e=this,n=Date.now();s.default.$lastPaintTime=this.$nextTickTime=n,1e3>n-this.fpsCalculateTime||(this.fpsCalculateTime=n,this.fpsHandler&&this.fpsHandler.call(this,this.fps),this.lastFps=this.fps,this.fps=0),(0,o.default)(function(i){if(e.$rafTime=i,e.$rAFer(t),e.maxFps>0&&60>e.maxFps){if(1e3/e.maxFps>=n-e.$lastPaintTime)return;e.$lastPaintTime=n-(n-e.$lastPaintTime)%(1e3/e.maxFps)}else e.$lastPaintTime=Date.now();e.fps++,t()})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(1),o=i(r),a=function(t,e){var n=this,i=!1;return this.$extendList.forEach(function(r){if(r.onRender){var o=r.onRender.call(n,t,e);o&&(i=o)}}),i},s=function(t,e){var n=this,i=t.props,r=void 0,s="text"===t.type;if(i&&"clip"!==t.type&&"clipOver"!==t.type&&"line"!==t.type){if(s){var l=i.content.length;r=i.fontsize*i.fontsize*9*l,i[5]=i.tx-1.5*i.fontsize*l,0>i[5]&&(i[5]=0),i[6]=i.ty-1.5*i.fontsize,0>i[6]&&(i[6]=0),i[7]=3*i.fontsize*l,i[5]+i[7]>n.width&&(i[7]=n.width-i[5]),i[8]=3*i.fontsize,i[6]+i[8]>n.height&&(i[8]=n.height-i[6])}else r=i.tw*i.th;if((r>4e4||s)&&!t.settings.transform&&!t.settings.rotate)for(var c=n.$children,u=c.length-1;u>e;u--){var f=c[u];if(!f.$cannotCover){var d=f.settings;if(f.type&&"img"===f.type||"fillRect"===f.type&&d.fillRect.indexOf("rgba")===-1){var h=f.props;if(h.tw*h.th<4e4)f.$cannotCover=!0;else if(h.tw*h.th>=r)if(!f.img||f.img.$noAlpha){if(1!==d.globalAlpha||d.globalCompositeOperation||d.transform||d.rotate)f.$cannotCover=!0;else if(o.default.pointInRect(i.tx,i.ty,h.tx,h.tx+h.tw,h.ty,h.ty+h.th)&&o.default.pointInRect(i.tx+i.tw,i.ty+i.th,h.tx,h.tx+h.tw,h.ty,h.ty+h.th))return void("production"!==process.env.NODE_ENV&&(t.$origin.$useless=!0))}else f.$cannotCover=!0}else f.$cannotCover=!0}}}var p=t.settings||{};if(!a.call(n,t,p)){"production"!==process.env.NODE_ENV&&t.$origin&&(t.$origin.$useless=!1);var v=n.$paintContext;"clip"===t.type&&(v.save(),v.beginPath(),v.moveTo(i.tx,i.ty),v.lineTo(i.tx+i.tw,i.ty),v.lineTo(i.tx+i.tw,i.ty+i.th),v.lineTo(i.tx,i.ty+i.th),v.lineTo(i.tx,i.ty),v.closePath(),v.clip());var g=!1;p.globalCompositeOperation&&(g||(v.save(),g=!0),v.globalCompositeOperation=p.globalCompositeOperation),1===p.globalAlpha||isNaN(p.globalAlpha)||(g||(v.save(),g=!0),v.globalAlpha=p.globalAlpha),p.translate&&(g||(v.save(),g=!0),v.translate(p.translate[0]||0,p.translate[1]||0)),
p.rotate&&(g||(v.save(),g=!0),v.translate(p.beforeRotate[0]||0,p.beforeRotate[1]||0),v.rotate(p.rotate||0),v.translate(p.afterRotate[0]||0,p.afterRotate[1]||0)),p.scale&&(g||(v.save(),g=!0),v.scale(p.scale[0]||1,p.scale[1]||1)),p.transform&&(g||(v.save(),g=!0),v.transform(1,p.transform.fh,p.transform.fv,1,p.transform.fx,p.transform.fy)),"img"===t.type?(v.drawImage(t.img,i.sx,i.sy,i.sw,i.sh,i.tx,i.ty,i.tw,i.th),"production"!==process.env.NODE_ENV&&n.$plugin.drawImage(n,i)):"text"===t.type&&i.content?(v.font=i.font,v.fillStyle=i.color||"white",v.textAlign=i.align,v.textBaseline=i.baseline,v[i.type||"fillText"](i.content,i.tx,i.ty)):"fillRect"===t.type?(v.fillStyle=p.fillRect,v.fillRect(i.tx,i.ty,i.tw,i.th)):"line"===t.type?(v.beginPath(),v.strokeStyle=i.border.substr(i.border.indexOf(" "))||"black",v.lineWidth=i.border.split(" ")[0]||1,v.moveTo(i.tx,i.ty),v.lineTo(i.tx+i.tw,i.ty),v.lineTo(i.tx+i.tw,i.ty+i.th),v.lineTo(i.tx,i.ty+i.th),v.closePath(),v.stroke()):"clipOver"===t.type&&v.restore(),g&&v.restore()}};t.exports=function(){var t=this;t.$children.forEach(s.bind(t))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(51),o=i(r),a=n(55),s=i(a),l=n(58),c=i(l),u=n(52),f=i(u),d=n(16),h=i(d),p=n(53),v=i(p),g=n(19),y=i(g),$=n(18),x=i($),m=n(20),w=i(m),b=n(15),E=i(b),T=n(17),k=i(T),S=n(54),O=i(S),A=n(56),_=i(A),F=n(57),M=i(F),V={start:c.default,paint:f.default,add:o.default,remove:s.default,register:O.default,clear:h.default,setFpsHandler:_.default,setMaxFps:M.default,pause:v.default,on:y.default,off:x.default,trigger:w.default,broadcast:E.default,nextTick:k.default};t.exports=V},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(13),o=i(r);t.exports=o.default.prototype.add},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(1),o=i(r);t.exports=function(){if(!(this.$pausing||this.$inBrowser&&document.hidden)){var t=this;o.default.execFuncs(t.hooks.beforeTick,t,[t.$rafTime]),t.$paintContext.clearRect&&t.$paintContext.clearRect(0,0,this.width,this.height),t.$freezing||(t.$children=[],"production"!==process.env.NODE_ENV&&t.$plugin.timeCollect(t,"preprocessTimeSpend","START"),this.children.sort(function(t,e){var n=o.default.funcOrValue(t.style.zIndex,t),i=o.default.funcOrValue(e.style.zIndex,e);return n===i?0:n>i?1:-1}).forEach(function(e,n){t.$perPaint(e,n)}),"production"!==process.env.NODE_ENV&&t.$plugin.timeCollect(t,"preprocessTimeSpend","END")),"production"!==process.env.NODE_ENV&&t.$plugin.timeCollect(t,"paintTimeSpend","START"),t.$render(),"production"!==process.env.NODE_ENV&&t.$plugin.timeCollect(t,"paintTimeSpend","END"),o.default.execFuncs(t.hooks.ticked,t,[t.$rafTime]),t.hooks.nextTick&&(o.default.execFuncs(t.hooks.nextTick,t,[t.$rafTime]),delete t.hooks.nextTick)}}},function(t,e){"use strict";t.exports=function(t){this.$pausing=void 0===t||t}},function(t,e){"use strict";var n=function(t){var e=this;this.$extendList.forEach(function(n){n.onCreate&&n.onCreate.call(e,t)})};t.exports=function(t,e){var i=this;"production"!==process.env.NODE_ENV&&(this.fpsHandler=this.fpsHandler||function(t){this.maxFps>0&&this.maxFps-5>t&&40>t&&console.warn("[Easycanvas] Low FPS detected ("+t+"/"+this.maxFps+").")});var r=e||{};t=this.$dom=t||this.$dom;for(var o in r)this[o]=r[o];if(this.name=r.name||t.id||t.classList&&t.classList[0]||"Unnamed",this.$inBrowser="undefined"!=typeof window,r.fullScreen&&"undefined"!=typeof document&&(t.width=t.style.width=document.body.clientWidth||document.documentElement.clientWidth,t.height=t.style.height=document.body.clientHeight||document.documentElement.clientHeight),"production"!==process.env.NODE_ENV&&(r.width&&t.attributes.width&&r.width!==t.width||r.height&&t.attributes.height&&r.height!==t.height)&&console.warn('[Easycanvas] Canvas size mismatched in "register" function.'),t.width=this.width=this.width||r.width||t.width,t.height=this.height=this.height||r.height||t.height,"production"!==process.env.NODE_ENV&&this.$plugin.register(this),this.events=r.events||{},this.hooks=r.hooks||{},this.$inBrowser){var a=["contextmenu","mousewheel","click","dblclick","mousedown","mouseup","mousemove","touchstart","touchend","touchmove"];a.forEach(function(e){t.addEventListener(e,i.$eventHandler.bind(i))})}return"production"!==process.env.NODE_ENV&&this.$paintContext&&console.error("[Easycanvas] Current instance is already registered."),n.call(this,r),this.$paintContext=this.$paintContext||t.getContext("2d"),this}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(1),o=i(r);t.exports=function(t,e){var n=this;o.default.execFuncs(t.hooks.beforeRemove,t,t.$tickedTimes++),t.style.visible=!1,t.$removing=!0,setTimeout(function(){t.$parent?t.$parent.children=t.$parent.children.filter(function(t){return t.$removing!==!0}):n.children=n.children.filter(function(t){return t.$removing!==!0}),t.$canvas&&(t.$canvas=void 0,t.$parent=void 0,t.$tickedTimes=void 0,t.$cache=void 0,t.$rendered=!1,"production"!==process.env.NODE_ENV&&(t.$perf=void 0),o.default.execFuncs(t.hooks.removed,t,t.$tickedTimes))}),e&&this.children.splice(this.children.indexOf(t),1)}},function(t,e){"use strict";t.exports=function(t){this.fpsHandler=t}},function(t,e){"use strict";t.exports=function(t){this.maxFps=t||-1}},function(t,e){"use strict";t.exports=function(){var t=this;return this.fpsCalculateTime=Date.now(),this.$rAFer(this.paint.bind(this)),setInterval(function(){if(t.eHoldingFlag){var e=t.eHoldingFlag;e.type="hold",t.$eventHandler.call(t,null,e)}},100),this}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(1),o=(i(r),n(4)),a=i(o);t.exports=function(){if("production"!==process.env.NODE_ENV){var t="__EASYCANVAS_BRIDGE_TOPANEL__",e=function(e){e.tabId=window[a.default.devFlag].tabId,window.document.dispatchEvent(new CustomEvent(t,{detail:JSON.parse(JSON.stringify(e))}))},n="24px san-serif",i="18px san-serif",r=function(t,e){var i=document.createElement("canvas"),r=i.getContext("2d");return r.font=e||n,r.measureText(t).width};setTimeout(function(){e({name:"init"})});var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQYV2OYePb/fwAHrQNdl+exzgAAAABJRU5ErkJggg==",s=function(){var t=document.createElement("canvas");t.width=40,t.height=20;var e=t.getContext("2d");return e.beginPath(),e.moveTo(0,20),e.lineTo(40,20),e.lineTo(20,0),e.closePath(),e.fill(),t}(),l=null,c=null,u=["paintArea","paintTimes","paintTimeSpend","preprocessTimeSpend","loadArea","jumpArea"],f={drawImage:function(t,e){window[a.default.devFlag].isPaintRecording&&(e&&(t.$perf.$paintArea+=e[7]*e[8],t.$perf.$loadArea+=e[3]*e[4]),t.$perf.$paintTimes++)},jumpRender:function(t,e){t.$perf.$jumpArea+=e[7]*e[8]},register:function(t){t.$id=Math.random().toString(36).substr(2),t.$perf={},u.forEach(function(e){t.$perf[e]=0,t.$perf["$"+e]=0}),setInterval(function(){u.forEach(function(e){t.$perf[e]=t.$perf["$"+e],t.$perf["$"+e]=0})},1e3),t.$flags.devtoolHanged||(window[a.default.devFlag].$canvas[t.$id]=t,t.$flags.devtoolHanged=!0)},timeCollect:function(t,e,n){t.$perf["$"+e]+=("START"===n||"PAUSE"===n?-1:1)*Date.now()},selectSprite:function(t,u,d){if(window[a.default.devFlag].MaskCanvasBase64=o,!d||!window[a.default.devFlag].selectMode)return f.cancelSelectSprite(u),!1;if(!l){var h=0,p={},v={};l=u.add({name:a.default.devFlag,content:{img:u.imgLoader(o)},style:{border:function(){return this.getStyle("tw")<2&&this.getStyle("th")<2?"10 rgba(0, 0, 255, 0.5)":"1 blue"}},webgl:void 0,children:[{name:a.default.devFlag,inherit:[],data:{},style:{locate:"center",tx:function(){var t=p.tx+p.tw/2;return 10>t-h/2?t=h/2+10:t+h/2>this.$canvas.width-10&&(t=this.$canvas.width-h/2-10),t},ty:function(){var t=p.ty+p.th+30;return(this.data.above=t+30>this.$canvas.height)&&(t=p.ty-32),t},tw:function(){return h},th:32,backgroundColor:"black",textVerticalAlign:"top",textAlign:"center",textFont:n},hooks:{beforeTick:function(){p=this.$parent.getRect(),this.content.text="<"+d.name+"> | "+Math.round(this.$parent.getStyle("tw"))+"Ã—"+Math.round(this.$parent.getStyle("th")),h=r(this.content.text)+20}},children:[{name:a.default.devFlag,content:{img:s},inherit:["ty"],style:{tx:function(){return p.tx+p.tw/2},ty:function(){return this.$parent.data.above?21:-21},tw:20,th:10,rotate:function(){return this.$parent.data.above?180:0}}}]},{name:a.default.devFlag,inherit:[],style:{visible:function(){return this.getStyle("tw")<this.data.value},locate:"center",tx:function(){var t=v.tx+(l.getSelfStyle("tx")-c.getSelfStyle("tx"))/2;return t},ty:function(){var t=l.getSelfStyle("ty");return t},tw:function(){return r(this.content.text,i)+10},th:20,backgroundColor:"#ddd",color:"black",textVerticalAlign:"middle",textAlign:"center",textFont:i},data:{},hooks:{beforeTick:function(){v=c.getRect(),this.data.value=Math.round(l.getSelfStyle("tx")-c.getSelfStyle("tx")),this.content.text="left: "+(this.data.value+"")}}},{name:a.default.devFlag,inherit:[],style:{visible:function(){return this.getStyle("th")<this.data.value},locate:"center",tx:function(){var t=l.getSelfStyle("tx");return t},ty:function(){var t=v.ty+(l.getSelfStyle("ty")-c.getSelfStyle("ty"))/2;return t},tw:function(){return r(this.content.text,i)+10},th:20,backgroundColor:"#ddd",color:"black",textVerticalAlign:"middle",textAlign:"center",textFont:i},data:{},hooks:{beforeTick:function(){v=c.getRect(),this.data.value=Math.round(l.getSelfStyle("ty")-c.getSelfStyle("ty")),this.content.text="top: "+(this.data.value+"")}}}]}),c=u.add({name:a.default.devFlag,style:{locate:"lt"},children:[{name:a.default.devFlag,style:{locate:"lt",tx:0,ty:0,tw:function(){return l.getSelfStyle("tx")-this.$parent.getStyle("tx")},th:function(){return l.getSelfStyle("ty")-this.$parent.getStyle("ty")},backgroundColor:"rgba(140, 205, 255, 0.1)",border:"1 rgba(80, 120, 200, 0.9)"}}]})}if(["tx","ty","rotate","rx","ry","scale","tw","th","locate"].forEach(function(t){!function(t){l.style[t]=function(){return"tw"===t||"th"===t?d.getStyle(t)||d.getRect()[t]||.1:d.getStyle(t)}}(t)}),["tx","ty"].forEach(function(t){!function(t){c.style[t]=function(){return d.$parent?d.$parent.getStyle(t):0}}(t)}),l.style.zIndex=Number.MAX_SAFE_INTEGER,c.style.zIndex=Number.MAX_SAFE_INTEGER-1,l.style.visible=function(){return window[a.default.devFlag].selectMode},c.style.visible=function(){return window[a.default.devFlag].selectMode&&d.$parent},l.style.opacity=.8,l.webgl=d.webgl?{}:void 0){for(var g in d.webgl)!function(t){l.webgl[t]=function(){return"function"==typeof d.webgl[t]?d.webgl[t].call(d):d.webgl[t]}}(g);l.webgl.img=u.imgLoader(o),l.webgl.colors=!1,l.style.zIndex=Number.MIN_SAFE_INTEGER}return t&&(u.remove(l),u.remove(c),l=null,e({name:"selectSprite",id:u.$id,value:{sprite:d.$id,canvas:u.$id}}),window[a.default.devFlag].current={$sprite:d,$canvas:u},window[a.default.devFlag].selectMode=!1),!0},cancelSelectSprite:function(t){l&&(t.remove(l),t.remove(c),l=null)}};return f}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(50),o=i(r),a=n(42),s=i(a),l=n(61),c=i(l),u=n(9),f=i(u),d=function(t){this.imgLoader=f.default;for(var e in c.default)this[e]=this[e]||JSON.parse(JSON.stringify(c.default[e]));t&&(t.el||(t={el:t}),t.el&&this.register("string"==typeof t.el?document.querySelector(t.el):t.el,t))};d.prototype.$extendList=[];for(var h in s.default)Object.prototype.hasOwnProperty.call(s.default,h)&&(d.prototype[h]=s.default[h]);for(var p in o.default)Object.prototype.hasOwnProperty.call(o.default,p)&&(d.prototype[p]=o.default[p]);t.exports=d},function(t,e){"use strict";var n={$dom:null,$paintContext:null,$nextTickTime:0,$lastPaintTime:0,$pausing:!1,$freezing:!1,name:"",fps:0,lastFps:0,fpsCalculateTime:0,fpsHandler:null,width:0,height:0,events:{click:null},children:[],eHoldingFlag:!1,eLastMouseHover:null,maxFps:-1,$flags:{}};t.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(9),o=i(r),a=n(10),s=i(a);t.exports=function(t,e){var n;return(0,s.default)(t,function(t){return(0,o.default)(t,function(t){for(var i=t.width,r=t.height,o=t.getContext("2d").getImageData(0,0,i,r),a=o.data,s=a.length-1;s>=0;s-=4)if(e&&e.conversion){var l=e.conversion({r:a[s-3],g:a[s-2],b:a[s-1],a:a[s]},(s+1>>2)%i,Math.floor((s+1>>2)/i));a[s-3]=l.r,a[s-2]=l.g,a[s-1]=l.b,a[s-0]=l.a}t.getContext("2d").clearRect(0,0,i,r),t.getContext("2d").putImageData(o,0,0),n=t},{canvas:!0,cacheFlag:Math.random()})}),function(){return n}}},function(t,e){"use strict";t.exports=function(t){var e=t.width,n=t.height,i=document.createElement("canvas");i.width=e,i.height=n;var r=i.getContext("2d");r.scale(1,-1),r.translate(0,-n),r.drawImage(t,0,0);var o=r.getImageData(0,0,e,n);return{canvas:r,img:o}}},function(t,e){"use strict";t.exports=function(t,e){return{type:"multline-text",text:t,config:e}}}])});